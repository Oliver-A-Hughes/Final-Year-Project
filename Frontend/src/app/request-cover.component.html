<div class="container" style="margin-top: 100px;">
    <div class="row">
        <div class="col-sm-12">

        <h2>Send a cover request</h2>
        <form *ngIf="!confrimationScreen" [formGroup]="requestForm" (ngSubmit)="onContinue()">
            <div class="form-group">
                <label for="Store Name">Please select the store name</label>
                <select id="store" name="store"
                class="form-control"
                formControlName="store">
                <option *ngFor="let store of shopList" [ngValue]="store">{{store.shopName}}</option>
                </select>
            </div>
            <div class="form-group">
                <label for="Shift Role">Please enter the role you are looking to cover</label>
                <input type="text" id="role" name="role"
                    class="form-control"
                    formControlName="role"
                    [ngClass]="{'error': isInvalid('role')}">
            </div>
            <div class="form-group">
                <label for="date">Please select the shift date </label>
                <input type="date" id="date" 
                        class="form-control"
                        formControlName="date"
                        [ngClass]="{'error': isInvalid('date')}">
            </div>
            <div class="form-group">
                <label for="Start Time">Please enter the time the shift will start</label>
                <input type="time" id="startTime" name="startTime"
                    class="form-control"
                    formControlName="startTime" 
                    [ngClass]="{'error': isInvalid('startTime')}">
            </div>
            <div class="form-group">
                <label for="End Time">Please enter the time the shift will end</label>
                <input type="time" id="endTime" name="endTime"
                    class="form-control"
                    formControlName="endTime" 
                    [ngClass]="{'error': isInvalid('endTime')}">
            </div>
            <div class="form-group">
                <label for="Time Filter">Please enter the maximum travel time by car - in minutes.</label>
                <input type="text" id="timeFilter" name="timeFilter"
                    class="form-control"
                    formControlName="timeFilter" 
                    [ngClass]="{'error': isInvalid('timeFilter')}">
            </div>
            <div class="form-group">
                <label for="Distance Filter">Please enter the maximum travel distance - in miles.</label>
                <input type="text" id="distanceFilter" name="distanceFilter"
                    class="form-control"
                    formControlName="distanceFilter" 
                    [ngClass]="{'error': isInvalid('distanceFilter')}">
            </div>
            <span *ngIf="isIncomplete()">
                Please complete all fields
            </span>
            <button *ngIf="!isIncomplete()" type="submit" class="btn btn-primary">
                Continue
            </button>

        </form>

        <div *ngIf="confrimationScreen" class="card" style="margin-top: 10px;">
            <div class="card-header"> 
             Confrim Request Details
            </div>
            <div class="card-body"> 
                <p class="card-text">Store Name:                                      {{ requestForm.value.store.shopName }} </p>
                <p class="card-text">Role:                                            {{ requestForm.value.role }}   </p>  
                <p class="card-text">Date of Shift:                                   {{ requestForm.value.date | date : 'dd-MM-yyyy' }} </p>
                <p class="card-text">Shift Start Time:                                {{ requestForm.value.startTime }} </p>
                <p class="card-text">Shift End Time:                                  {{ requestForm.value.endTime }}   </p>  
                <p class="card-text">Time Filter:                                     {{ requestForm.value.timeFilter }} minutes  </p>  
                <p class="card-text">Distance Filter:                                 {{ requestForm.value.distanceFilter }} miles   </p>
                <p class="card-text" > Number of Request Recipients (based on filters): {{ numberOfRecipients[0] }}  </p>  
            </div>
            <div class="card-footer"    >
                <button class="btn btn-danger" style="margin-top: 5px;" (click)="onBack()" >
                Back 
               </button>
               <button *ngIf="numberOfRecipients[0] > 0 " class="btn btn-primary" style="margin-top: 5px; margin-left: 5px;" (click)="onSubmit()" >
                Submit 
               </button>
               <p *ngIf="numberOfRecipients[0] == 0 " style="margin-top: 5px; margin-left: 5px;"  class="card-text" > Could not find any staff members that match the current filters. </p>

   
        </div>
    </div>
</div>